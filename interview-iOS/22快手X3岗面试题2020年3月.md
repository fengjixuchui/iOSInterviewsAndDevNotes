## 2020年3月快手X3岗iOS面试题


> 来源地址&&jianshu.com/p/0eb02402f730

> 2020年3月

> 面的是快手X3岗位，视频面试，不支持周末，但是可以选择晚上时间。视频面试是通过牛客网进行的，以下是记下来的各轮面试题，对于一些iOS基础知识就不做解答了。

-   [一面](#一面)
-   [二面](#二面)
-   [三面](#三面)
-   [总结](#总结)

### 一面

1、用递归写一个算法，计算从1到100的和。[Swift]

<details>
<summary> 参考内容 </summary>

``` swift
func sum(value: Int) -> Int {
    if value <= 0 {
        return 0
    }
    var number = value
    return value + sum(value: number - 1)
}
// 计算过程
let result = sum(value: 100)
print(result)

```

</details>


写完算法之后又围绕着问了几个问题，都是算法基础：

- 算法的时间复杂度是多少
- 递归会有什么缺点
- 不用递归能否实现，复杂度能否降到O(1)

2、property的作用是什么，有哪些关键词，分别是什么含义？

3、父类的property是如何查找的？

4、NSArray、NSDictionary应该如何选关键词？

5、copy和muteCopy有什么区别，深复制和浅复制是什么意思，如何实现深复制？

6、用runtime做过什么事情？runtime中的方法交换是如何实现的？

7、讲一下对KVC合KVO的了解，KVC是否会调用setter方法？

8、__block有什么作用

9、说一下对GCD的了解，它有那些方法，分别是做什么用的？

10、对二叉树是否了解？

### 二面

1、ARC和MRC的区别，iOS是如何管理引用计数的，什么情况下引用计数加1什么情况引用计数减一？

2、在MRC下执行[object autorelease]会发生什么，autorelease是如何实现的？

3、OC如何实现多继承？

> 这个当时没有答好。其实借助于消息转发，protocol和类别都可以间接实现多继承。

4、对设计模式有什么了解，讲一下其中一种是如何使用的。

5、有没有哪个开源库让你用的很舒服，讲一下让你舒服的地方。

6、一张100*100，RGBA的png图像解压之后占多大内存空间。

5、算法题：给定一个个数字arry，判断数组arry中是否所有的数字都只出现过一次。

- 这个并没有要求写出来，说是提供思路就行了。我当时给的方案是在便利数组的时候，用一个字典把便利的元素存起来，如果在后面的便利过程中新元素在字典中存在过就说明，有重复数字出现。时间复杂度是O(n)。

- 当时也问了有没有办法进行优化，我当时想到了将数组转成Set，然后和原数组比较，两个集合的数量是否变化。

7、因为我跟他介绍自己Swift用的多一些，然后问了些Swift跟OC的区别，各自的优缺点。

8、为什么离职，有什么职业规划。


### 三面

1、给定一个Int型数组，用里面的元素组成一个最大数，因为数字可能非常大，用字符串输出。

```
输入: [3,30,34,5,9]
输出: 9534330

```
<details>
<summary> 参考内容 </summary>

- 这个是[leetcode的179题](https://leetcode-cn.com/problems/largest-number/)，难度中等。面试官让先说思路，再去做题。事先说一下这个题我没有做过。当时的思路是用冒泡法进行排序，排序的前提是将较少位数的数字进行循环补齐，例如3和30的比较，变成33和30的比较，34和4的比较变成34和44的比较，然后将结果从大到小整合成字符串输出。

- 但是做题是却发现没那么简单，位数的补齐对于2位和3位数的比较还需要求位数的最小公倍数，将他们都转成6位数才能比较。在挣扎了5分钟做了就做罢了。

- 后来再去做这道题，其实这就是一个排序而已，只不过他的规则是按高位优先级更高的原则，而这一点跟字符串的比较保持一致，如果再加一些Swift的高阶函数，就可以写成：

```
func largestNumber(_ nums: [Int]) -> String {
    let sort = nums.map {"\($0)"}.sorted { (lStr, rStr) -> Bool in
        return lStr + rStr > rStr + lStr
    }
    let result = sort.joined()
    if result.prefix(1) == "0" {
        return "0"
    } else {
        return result
    }
}

```

</details>


2、项目中有这么一个方法func findfile(dir: String suffix: String) -> [String] ，可以通过输入文件夹目录，和后缀检索出所需的文件。

- 例如需要在某个文件中检索txt文件或者mp4文件，那就传入dir和suffix就行了。现在又有一些需求，例如需要检索utf8格式的txt或者h264编码的mp4，也会有一些例如查找最近一周更新过的文件这样的需求，你如何优化这个类，让它满足这些情况？

- 我首先想到的是这么多需求不可能一个方法就完成，需要根据不同场景拆出不同的方法，但是这些同属于文件操作，会有一个共同使用的方法就是检索文件。这个方法需要传入文件目录，然后递归的返回当前目录所有文件路径。外部不同场景的调用逻辑就用一个enum完成，不同值对应相同范围的不同种类。

- 面试官比较关注内部共用的文件检索怎么写，他说子文件如果过多怎么办，如何优化。我有点懵，查找文件至少是要遍历一遍的，子文件过多，这个应该是没法优化的啊。中间卡了一段时间，后来他给了提示说是不是可以用block实现，将文件路径返回出去，由外部决定当前文件是否可用，最终外部的调用类是这个样子。

```
//我的方案
//func findDir(_ dir: String) -> [String]
//block方案
func findDir(_ dir: String, block: ((String) -> Bool))

```
- 我想来确实没毛病，用block返回内容至少不会将该目录的所有文件都由一个对象持有，而前面一堆的铺垫其实也都是为验证block方案的好处。

- 其实事后想下这个问题没啥难的，这种写法自己也有写过，但当时就是没想起来，可能前面一圈的铺垫给我带偏了吧，说亏也不亏，以后多多努力吧。

### 总结

- 整体来看，快手的面试题跟我在别处看到的iOS面试题对比要简单些。一面主要是基础知识，二面考察更全面一些，更多让自己谈一些对技术的理解，三面则是更偏实践一些。

- 算法虽然三轮都有，但相对比较简单，即使写不出来，有思路也是可以的。当然写出来肯定是加分项，所以大家准备面试时，应该都看一下。算法相关的，排序，数组，二叉树，这几类是重点。


## 链接

- [面试题系列目录](../README.md)
- **上一份**: [出一套iOS高级面试题J_Knight_](21出一套iOS高级面试题2018年7月.md)
- **下一份**: [抖音面试题2020年3月](23抖音面试题2020年3月.md)


## 赞赏一下旺仔(收集整理不易，且赞且珍惜)

</p>
<img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/18ff90e4c8344f86aa69c34065bb379a~tplv-k3u1fbpfcp-zoom-1.image" width="300" height="300">
<img src="../images/wechat.JPG" width="300" height="300">

</p>
